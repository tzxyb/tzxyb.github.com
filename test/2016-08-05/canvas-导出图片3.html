<!doctype html>
<html>
<head>
<meta charset="utf-8">
<style>
*{margin:0; padding:0;}
body{background:#000; text-align:center;}
canvas{background:#fff;}
</style>
<script>
function d2a(n){
	return n*Math.PI/180;
}
window.onload=function(){
	var oBtn = document.querySelector('input');
	var oC = document.getElementById('c1');
	var gd = oC.getContext('2d');
	var x = 300,
		y = 200,
		w = 300,
		h = 150;
	
	var lg = gd.createLinearGradient(-150,-150,150,150);
	lg.addColorStop(0,'red');
	lg.addColorStop(1,'green');
	
	var d = 0;
	
	setInterval(function(){
		d+=11;
		gd.save();
		gd.beginPath();
		gd.translate(x+w/2,y+h/2);
		gd.rotate(d2a(d));
		gd.rect(-w/2,-h/2,w,h);
		gd.strokeStyle = lg;
		gd.stroke();
		gd.restore();
	},30);
	
	oBtn.onclick=function(){
		var result = oC.toDataURL('image/png');
		var oImg = new Image();
		oImg.src = result;
		document.body.appendChild(oImg);
	};
};

</script>
</head>

<body>
	<input type="button" value="导出" /> 
	<br />
	<canvas id="c1" width="800" height="600">
		<strong>您的浏览器版本过低，请尽快升级。</strong>
	</canvas>
</body>
</html>














