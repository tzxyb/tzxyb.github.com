<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="author" content="智能社 - zhinengshe.com" />
<meta name="copyright" content="智能社 - zhinengshe.com" />
<meta name="description" content="智能社是一家专注于web前端开发技术的公司，目前主要提供JavaScript培训和HTML5培训两项服务，同时还推出了大量javascript基础知识教程，智能课堂为你带来全新的学习方法和快乐的学习体验。" />
<title>智能社— http://www.zhinengshe.com</title>
<style>
</style>
<script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script>
<script>
function show(json){
	wx.config({
		debug: false, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出在pc端，仅时才会打印。
		appId: 'wx2194985afd401g77', // 必填，公众号的唯一标识
		timestamp: json.timestamp, // 必填，生成签名的时间戳
		nonceStr: json.nonceStr, // 必填，生成签名的随机串
		signature: json.signature,// 必填，签名，见附录1
		jsApiList: ['onMenuShareTimeline','chooseImage'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
	});
	
	wx.ready(function(){
		var oBtn = document.getElementById('btn1');
		var oBtn2 = document.getElementById('btn2');
		oBtn.onclick=function(){
			wx.onMenuShareTimeline({
				title: '宝强不哭', // 分享标题
				link: 'http://www.zhinengshe.com/', // 分享链接
				imgUrl: 'http://www.zhinengshe.com/images/logo.png', // 分享图标
				success: function () { 
					// 用户确认分享后执行的回调函数
					alert('感谢分享');
				},
				cancel: function () { 
					// 用户取消分享后执行的回调函数
					alert('别骗我。我知道，你取消了');
				}
			});
		};
		oBtn2.onclick=function(){
			wx.chooseImage({
				count: 1, // 默认9
				sizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有
				sourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有
				success: function (res) {
					var localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片
					var oImg = new Image();
					oImg.src = localIds;
					oImg.onload=function(){
						document.body.appendChild(oImg);
					};
				}
			});
		};
	});
}
</script>
<script src="http://www.a.com/weixin_config.php"></script>
</head>

<body>
<input type="button" value="分享到朋友圈" id="btn1" />
<input type="button" value="选择图片" id="btn2" />
</body>
</html>












